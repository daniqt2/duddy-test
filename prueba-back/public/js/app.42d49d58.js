(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&v.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"22d7":function(t,e,n){"use strict";n("be87")},"4df6":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var a=n("2b0e"),i=n("5f5b");a["default"].use(i["b"]);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("div",{staticClass:"container-fluid bg-light py-5 d-flex text-center min"},[n("div",{staticClass:"container bg-white rounded-lg shadow p-4 my-auto mb-5"},[n("router-view")],1)])],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[n("a",{staticClass:"navbar-brand font-weight-bold",attrs:{href:"#"}},[t._v("Prueba DuddyFit")]),n("div",[n("ul",{staticClass:"navbar-nav mr-auto"},[n("li",{staticClass:"nav-item",class:{active:"home"===this.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Configuracion")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",class:{active:"asign"===this.$route.name},attrs:{to:"/asign"}},[t._v("Resultados")])],1)])])])},c=[],l={},u=l,d=n("2877"),v=Object(d["a"])(u,o,c,!1,null,null,null),f=v.exports,m={name:"App",components:{NavBar:f},created:function(){console.log(this.$store),this.$store.dispatch("getTrainers"),this.$store.dispatch("getClients")}},p=m,b=(n("5c0b"),Object(d["a"])(p,r,s,!1,null,null,null)),h=b.exports,g=n("2f62"),_=n("d4ec"),C=n("bee2"),y=n("bc3a"),x=n.n(y),k="api/",j=function(){function t(){Object(_["a"])(this,t)}return Object(C["a"])(t,null,[{key:"getClients",value:function(){return this.fetchBase("".concat(k,"clients"))}},{key:"getTrainers",value:function(){return this.fetchBase("".concat(k,"trainers"))}},{key:"fetchBase",value:function(t){return x.a.get(t).then((function(t){return t.data})).catch((function(t){return t}))}},{key:"postBase",value:function(t,e){return x.a.post(t,e).catch((function(){throw new Error("There was an error trying to post your data")}))}}]),t}(),w=j;a["default"].use(g["a"]);var O=new g["a"].Store({state:{trainers:[],clients:[]},actions:{getClients:function(t){var e=t.commit;return w.getClients().then((function(t){e("saveClients",t.clients)}))},setClients:function(t,e){var n=t.commit;n("saveClients",e)},getTrainers:function(t){var e=t.commit;return w.getTrainers().then((function(t){return e("saveTrainers",t.trainers),console.log(t),t}))},setTrainers:function(t,e){var n=t.commit;n("saveTrainers",e)}},mutations:{saveClients:function(t,e){t.clients=e},saveTrainers:function(t,e){console.log("saving"),t.trainers=e}}}),T=O,S=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"text-center"},[t._v("Pantalla de configuración")]),n("div",[t._l(t.trainers,(function(e,a){return n("div",{key:e.name,staticClass:"row py-5 px-4",class:{"border-bottom":a<t.trainers.length-1}},[n("div",{staticClass:"col-sm my-2"},[t._v(" Nombre "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"trainer.name"}],staticClass:"ml-2 border-gray-light p-2",domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]),n("div",{staticClass:"col-sm my-2"},[t._v("Valoracion "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.rank,expression:"trainer.rank"}],staticClass:"ml-2 border-gray-light p-2",class:{"border-danger text-danger":!t.rankValidity[a]},domProps:{value:e.rank},on:{input:function(n){n.target.composing||t.$set(e,"rank",n.target.value)}}}),t.rankValidity[a]?t._e():n("p",{staticClass:"text-danger small mt-2"},[t._v("Value should be between 0-5")])]),n("div",{staticClass:"col-sm my-2"},[t._v("Máximo número de clientes "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.slots,expression:"trainer.slots"}],staticClass:"p-2 border-gray-light",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"slots",n.target.multiple?a:a[0])}}},t._l(10,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0)])])})),n("div",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"mr-2",attrs:{variant:"info"}},[t._v("Ver Tabla de Clientes")]),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$router.push({name:"asign"})}}},[t._v("Calcular Resultados")])],1),n("b-modal",{attrs:{id:"modal-1",title:"Clientes"}},[n("Modal")],1)],2)])},A=[],E=n("5530"),B=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container px-5"},t._l(t.clients,(function(e,a){return n("div",{key:e,staticClass:"row py-4",class:{"border-bottom":a<t.clients.length-1}},[n("div",{staticClass:"col-sm"},[n("b",[t._v("Nombre:")]),t._v(" "+t._s(e.name))]),n("div",{staticClass:"col-sm"},[n("b",[t._v("Importancia:")]),t._v(" "+t._s(e.importance))])])})),0)}),P=[],V={computed:Object(E["a"])({},Object(g["b"])(["clients"]))},M=V,N=(n("22d7"),Object(d["a"])(M,B,P,!1,null,null,null)),R=N.exports,q={components:{Modal:R},data:function(){return{trainerlist:[]}},computed:Object(E["a"])(Object(E["a"])({},Object(g["b"])(["trainers"])),{},{rankValidity:function(){return this.trainers.map((function(t){return t.rank<=5&&t.rank>=0}))}}),created:function(){this.trainerlist=this.trainers},watch:{trainers:function(t){this.trainerlist=t}}},D=q,F=(n("b1e3"),Object(d["a"])(D,$,A,!1,null,null,null)),I=F.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("b-tabs",{attrs:{"content-class":"mt-3"}},[n("b-tab",{attrs:{title:"Entrenadores",active:t.selected===t.TABS[0]},on:{click:function(e){t.selected=t.TABS[0]}}},[n("h2",[t._v("Entrenadores")])]),n("b-tab",{attrs:{title:"Valoracion de Conjunto",active:t.selected===t.TABS[1]},on:{click:function(e){t.selected=t.TABS[1]}}},[n("h2",[t._v("Satisfacción del conjunto")])])],1)],1),t.notAsignedClients.length?n("p",[t._v("Clients missing assigment: "+t._s(t.notAsignedClients))]):t._e(),n("div",{staticClass:"row row-cols-3 mt-5 justify-content-center"},t._l(t.sortedTrainers,(function(e,a){return n("div",{key:e.name,staticClass:"col-auto d-flex align-items-stretch"},[e.clients?n("b-card",{staticClass:"mb-2 text-left",staticStyle:{"max-width":"20rem"},attrs:{title:e.name,header:"Entrenador "+(a+1),footer:e.clients.length+" clientes asignados",tag:"article"}},[t.selected==t.TABS[0]?n("div",[n("b-card-text",{staticClass:"ml-4"},t._l(e.clients,(function(e){return n("p",{key:e.name},[t._v(t._s(e.name))])})),0)],1):n("div",{staticClass:"text-center"},[n("p",{staticClass:"mb-0"},[t._v("Satisfaccion de grupo")]),n("p",[n("b",[t._v(t._s(10*t.satisfaccion[a]))]),t._v("/10")])])]):t._e()],1)})),0),t.selected==t.TABS[1]?n("div",[n("h4",{staticClass:"my-4"},[t._v(" Satisfaccion general: "+t._s(t.generalSatisfaction)+"/10")]),t._m(0),n("h4",[t._v("Una forma mas visual de verlo")]),n("p",[t._v("Mientras mas sube la importancia del cliente, mas baja es su satisfacción al ser asignado con un entrenador de bajo nivel. ")]),t._m(1),t._m(2),n("div",{staticClass:"d-flex"},[n("b-table",{attrs:{small:"",hover:"",items:t.chartData,fields:["index","0","1","2","3","4","5"]},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v(" "+t._s(e.index)+" ")]}}],null,!1,3604735925)})],1)]):t._e()])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Para este caso vamos a considerar que la satisfacción "),n("b",[t._v("individual")]),t._v(" de un cliente esta entre "),n("b",[t._v("0-1")]),t._v(" siendo "),n("b",[t._v("0 nada satisfecho")]),t._v(" y "),n("b",[t._v("1 muy satisfecho")])]),n("p",[t._v("La satisfacción individual de cada cliente se calcula en base a la importancia que le den al tener un entrenador con buen nivel o no.")]),n("p",[t._v("Entre mas importancia le den, mas va a tener efecto negativo el que no sean asignados con niveles buenos.")]),n("p",[t._v("Para esto, la importancia del cliente funciona como peso y se puede ver en la siguiente fórmula:")]),n("p",[t._v("([A]- ( ([B]-[C] * D) )) /[A] ")]),n("div",{staticClass:"text-left"},[n("ul",{staticClass:"decoration-none"},[n("li",[t._v("A: Maximo valor de satisfacción: En este caso lo tomaremos como '50' (10 niveles de importacia * 5 rangos).")]),n("li",[t._v("B: Valoración mas alta que puede tener un entrenador (la mejor = 5).")]),n("li",[t._v("C: Valoración del entrenador asignado.")]),n("li",[t._v("D: Importancia del cliente hacia tener un entrenador con buen nivel o no.")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("b",[t._v("INDEX")]),t._v(": Esta columna reporesenta el nivel de importancia que da el cliente.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("b",[t._v("Columnas")]),t._v(": Representan los diferentes niveles que puede tomar un entrenador.")])}],U=n("2909"),X=(n("4e82"),n("d3b7"),n("b680"),n("07ac"),n("a15b"),n("b0c0"),n("159b"),n("fb6a"),n("a434"),["entrenadores","valoracion"]),z={computed:Object(E["a"])(Object(E["a"])({},Object(g["b"])(["trainers","clients"])),{},{sortedTrainers:function(){return this.sort("rank",this.trainers)},sortedClients:function(){return this.sort("importance",this.clients)},satisfaccion:function(){return this.sortedTrainers.map((function(t){var e=t.clients.reduce((function(t,e){var n=e.satisfactation;return t+n}),0);return(e/t.clients.length).toFixed(2)}))||[]},satisfactationSum:function(){return this.satisfaccion?this.satisfaccion.reduce(this.add,0).toFixed(2):null},chartData:function(){for(var t={},e=0;e<=this.maxClientRank;e++){t[e]=[],t[e]["index"]=e;for(var n=0;n<=this.maxTrainerRank;n++)t[e][n]=this.calc(e,n)}return Object.values(t)},generalSatisfaction:function(){return(this.allClientSatis/this.clients.length*10).toFixed(2)},notAsignedClients:function(){return this.notAsigned.map((function(t){return t.name})).join(",")},allClientSatis:function(){return this.clients.map((function(t){return t.satisfactation})).reduce(this.add,0).toFixed(2)}}),data:function(){return{clonedClients:[],selected:X[0],TABS:X,maxSatisValue:50,maxTrainerRank:5,maxClientRank:10,notAsigned:[]}},watch:{sortedTrainers:function(){this.asign()},sortedClients:function(){this.asign()}},created:function(){this.asign()},methods:{sort:function(t,e){var n=Object(U["a"])(e);return n.sort((function(e,n){return e[t]-n[t]})).reverse()},asign:function(){var t=this,e=Object(U["a"])(this.sortedClients);this.sortedTrainers.forEach((function(n){var a=n.slots,i=e.slice(0,a);e.splice(0,a),i.forEach((function(e){return e.satisfactation=t.calc(e.importance,n.rank)})),t.$set(n,"clients",i)})),this.notAsigned=Object(U["a"])(e)},calc:function(t,e){var n=this.maxSatisValue-(this.maxTrainerRank-e)*t;return n/this.maxSatisValue},add:function(t,e){return t+parseFloat(e)}}},G=z,H=Object(d["a"])(G,J,L,!1,null,null,null),K=H.exports;a["default"].use(S["a"]);var Q=[{path:"/",name:"home",component:I},{path:"/asign",name:"asign",component:K}],W=new S["a"]({mode:"history",routes:Q}),Y=W;n("f9e3"),n("2dd8");a["default"].use(i["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(h)},store:T,router:Y}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},b1e3:function(t,e,n){"use strict";n("4df6")},be87:function(t,e,n){}});
//# sourceMappingURL=app.42d49d58.js.map